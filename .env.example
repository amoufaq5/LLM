# Lumen Medical LLM - Environment Configuration
# Copy this file to .env and fill in your values

# Environment
ENVIRONMENT=development  # development, staging, production

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_SECRET_KEY=your-secret-key-here-generate-with-openssl-rand-hex-32
API_ACCESS_TOKEN_EXPIRE_MINUTES=30
API_REFRESH_TOKEN_EXPIRE_DAYS=7

# Database
DATABASE_URL=postgresql://localhost:5432/lumen_dev
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# Redis
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_TTL=3600  # 1 hour

# Vector Database (Qdrant)
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=medical_knowledge

# Model Configuration
MODEL_NAME=BioMistral-7B-DARE
MODEL_PATH=./model/checkpoints/lumen-medical-v1
INFERENCE_DEVICE=cuda  # cuda, cpu
INFERENCE_BATCH_SIZE=8
MAX_LENGTH=2048
TEMPERATURE=0.7
TOP_P=0.9

# RAG Configuration
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
RETRIEVAL_TOP_K=5
RAG_CONFIDENCE_THRESHOLD=0.7

# Training Configuration (RunPod)
RUNPOD_API_KEY=
WANDB_API_KEY=
WANDB_PROJECT=lumen-medical-llm
WANDB_ENTITY=

# Data Collection
PUBMED_API_KEY=
PUBMED_EMAIL=your-email@example.com
FDA_API_KEY=
SCRAPER_USER_AGENT=LumenMedicalBot/1.0 (+https://yourdomain.com/bot; research@yourdomain.com)
SCRAPER_DELAY=1.0  # Seconds between requests
SCRAPER_MAX_RETRIES=3

# Storage
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=lumen-medical-data
AWS_REGION=us-east-1

# Or Cloudflare R2
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET=lumen-medical-data
R2_ENDPOINT=

# Monitoring
SENTRY_DSN=
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# HIPAA Compliance
ENABLE_AUDIT_LOGGING=true
DATA_RETENTION_DAYS=2555  # 7 years for HIPAA
ENCRYPTION_KEY=your-encryption-key-here

# Feature Flags
ENABLE_PATIENT_FEATURES=true
ENABLE_PHARMA_FEATURES=true
ENABLE_STUDENT_FEATURES=false
ENABLE_MEDICAL_IMAGING=false

# CORS
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com
